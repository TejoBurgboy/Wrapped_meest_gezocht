<script setup>
import { ref } from "vue";
let input = ref("");
const items = ["apple", "banana", "orange"];
function filteredList() {
    return items.filter((items) =>
        items.toLowerCase().includes(input.value.toLowerCase())
    );
}
</script>
<template>
    <label>
        <svg width="28px" height="28px" viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Group 3</title>
            <defs>
                <polygon id="path-1" points="0 0 24 0 24 24 0 24"></polygon>
            </defs>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="001a_Home_v7" transform="translate(-470.000000, -40.000000)">
                    <g id="Group-3" transform="translate(470.000000, 40.000000)">
                        <mask id="mask-2" fill="white">
                            <use xlink:href="#path-1"></use>
                        </mask>
                        <g id="Clip-2"></g>
                        <path
                            d="M15.6292142,22.003855 C15.2763295,22.1471804 14.9093806,22.2623526 14.5309245,22.3250575 L14.532203,22.3288966 L14.532203,22.3301763 C14.5309245,22.3288966 14.5283673,22.3276169 14.5270888,22.3263372 C14.5283673,22.3250575 14.5283673,22.3250575 14.5296459,22.3250575 C14.4439819,22.1702148 14.5846243,22.0947131 14.6600598,22.0128128 C16.0536988,20.5142943 17.0829459,18.7943891 17.7682583,16.8697334 C18.2131999,15.6220343 18.4829777,14.3346648 18.5635275,13.0127437 C18.5788703,12.7657632 18.6632558,12.6851427 18.9100193,12.6877021 C20.0364376,12.6992193 21.1641345,12.700499 22.2905527,12.6877021 C22.5577734,12.683863 22.6191447,12.7772805 22.5859019,13.0217015 C22.0092678,17.368813 19.6886672,20.3632907 15.6292142,22.003855 M14.4759461,22.3378544 C14.4810603,22.3224981 14.4861746,22.3071418 14.4912889,22.2930652 C14.502796,22.3033027 14.5143031,22.3135403 14.5258102,22.3263372 C14.5079102,22.3301763 14.4925674,22.3327356 14.4759461,22.3378544 M12.9902502,21.7607136 C12.9212075,21.8272576 12.8585577,21.9641845 12.7370938,21.8989203 C12.6437583,21.8490123 12.6846725,21.7248823 12.6846725,21.6327445 C12.6821154,20.1982105 12.6833939,18.7636765 12.6833939,17.3278628 C12.6833939,15.8933289 12.6897868,14.4587949 12.6770011,13.0242609 C12.6757437,12.754246 12.7626651,12.6851427 13.0222144,12.6877021 C14.295668,12.6992193 15.5704001,12.7017787 16.8451323,12.6864224 C17.1583814,12.6825833 17.2133598,12.7887977 17.1877885,13.0792876 C16.9218463,16.1006389 15.7724138,18.7342436 13.7471624,20.9865004 C13.5055131,21.2552355 13.2485209,21.5086144 12.9902502,21.7607136 M12.7537152,2.12001106 C12.845772,2.08162032 12.9378289,2.203191 13.0119859,2.27485371 C14.662617,3.85015374 15.8619136,5.71338432 16.5727973,7.8863002 C16.9013893,8.88957821 17.1059601,9.91589065 17.1916242,10.9690766 C17.2120812,11.228854 17.1545457,11.3299496 16.8732608,11.3274375 C15.5780715,11.3145933 14.2816037,11.315873 12.9864145,11.3274375 C12.7447652,11.3286699 12.6782797,11.2506087 12.6795582,11.0164252 C12.6872296,9.57165369 12.6833939,8.12560248 12.6833939,6.67955128 C12.6833939,5.26549235 12.6821154,3.85143343 12.6859511,2.43737451 C12.6859511,2.32732106 12.6284155,2.17119871 12.7537152,2.12001106 M16.425762,2.34395704 C19.0749546,3.6057327 20.937828,5.60589025 21.9785822,8.35978599 C22.3033384,9.21973857 22.4772236,10.1142428 22.5871805,11.0241033 C22.6140304,11.2454899 22.5449877,11.3273902 22.3148455,11.3261252 C21.1679702,11.3171527 20.0198162,11.3171527 18.8729409,11.3261252 C18.6491915,11.3273902 18.582706,11.2390915 18.5686417,11.0279424 C18.4267207,8.97787691 17.8782151,7.04170392 16.9269606,5.22070316 C16.3145266,4.04722621 15.5627287,2.97228549 14.6562241,2.00739822 C14.6050814,1.95365119 14.5552173,1.89734477 14.511746,1.83847897 C14.493846,1.81544452 14.4912889,1.78089286 14.4644389,1.69259416 C15.1842726,1.80904607 15.8171637,2.0547468 16.425762,2.34395704 M11.3127692,2.45784957 C11.3166049,3.87318819 11.3153263,5.28724711 11.3153263,6.70258572 C11.3153263,8.12816186 11.3102121,9.55373801 11.3204406,10.9793142 C11.3217192,11.2390915 11.2488408,11.3299496 10.9803416,11.3274426 C9.6941023,11.315873 8.40786304,11.315873 7.12162379,11.3274426 C6.84033886,11.3299496 6.78024617,11.2275743 6.80581753,10.9690766 C7.13440947,7.62652286 8.46284146,4.76129397 10.8639919,2.40410254 C10.8946775,2.37466964 10.922806,2.34267735 10.9547702,2.31452414 C11.0417128,2.24030205 11.1222626,2.10465477 11.2398908,2.14560489 C11.3792547,2.19295347 11.3114906,2.3503555 11.3127692,2.45784957 M11.2552336,21.8810046 C11.1414411,21.9360313 11.0698413,21.8106216 10.9969629,21.7415183 C9.07271833,19.9192378 7.80182188,17.7130499 7.14847371,15.1498282 C6.96947422,14.4485574 6.89148158,13.7280911 6.8032604,13.011464 C6.7751319,12.7811195 6.842896,12.6864224 7.09221673,12.6889238 C8.39891307,12.6979396 9.70560941,12.6979396 11.0135843,12.6889238 C11.2526765,12.6864224 11.3217192,12.7683226 11.319162,13.0037858 C11.3102121,14.4395995 11.3153263,15.8754132 11.3153263,17.3112269 C11.3153263,18.736803 11.3166049,20.1623791 11.3127692,21.5879553 C11.3127692,21.6877712 11.3677476,21.8259779 11.2552336,21.8810046 M6.44781853,21.0722397 C3.83442585,19.4278363 2.21575896,17.0808824 1.57136076,14.0633703 C1.49464669,13.7012176 1.43327543,13.3339462 1.41793262,12.9589966 C1.41026121,12.7747211 1.43711114,12.6877021 1.64807483,12.6889679 C2.82819296,12.6966599 4.00703251,12.6953802 5.18587207,12.6902615 C5.363593,12.6902615 5.41857142,12.7568054 5.4313571,12.9321231 C5.69985634,16.4231211 7.00399555,19.4636677 9.37701747,22.0422457 C9.45117441,22.124146 9.55601697,22.194529 9.54578843,22.3544904 C8.43727011,22.0934334 7.40290872,21.6736946 6.44781853,21.0722397 M1.42304689,11.025383 C1.53428229,9.85318578 1.81684579,8.72577772 2.31037298,7.65595576 C3.61706932,4.82399885 5.76250617,2.92109784 8.69554081,1.90118384 C8.9704329,1.80520699 9.25043926,1.69771292 9.57647406,1.69131447 C9.46651722,1.95749026 9.25171782,2.10721415 9.08806114,2.29276939 C7.16253796,4.49383848 6.00287692,7.04682269 5.55154247,9.92868757 C5.49528549,10.295959 5.45181418,10.6670695 5.4351928,11.0369003 C5.42624282,11.2595666 5.35336446,11.3273902 5.13472935,11.3261645 C3.98657543,11.3171527 2.83970007,11.3171527 1.69154614,11.3261645 C1.45628966,11.3286699 1.40258981,11.2403712 1.42304689,11.025383 M12.1796382,0.000842216328 C5.58094953,-0.0772189549 0.00383658093,5.28084865 -1.24344979e-13,11.9979485 C-0.0025562583,18.7675156 5.58478524,24.0577596 11.9635602,23.9988938 C18.4535706,24.0884722 23.9948837,18.7265655 24,12.008186 C24.0038337,5.4651242 18.6261773,0.0776236962 12.1796382,0.000842216328"
                            id="Fill-1" fill="#FFFFFF" mask="url(#mask-2)"></path>
                    </g>
                </g>
            </g>
        </svg>
        <input @click="focus" type="text" v-model="input" :placeholder=" huidigesite ">
        <svg id="rightop" width="9px" height="5px" viewBox="0 0 9 5" version="1.1" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Combined Shape Copy</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="001a_Home_v7" transform="translate(-950.000000, -50.000000)" fill="#FFFFFF">
                    <path
                        d="M958.69095,50.8535534 L954.772252,54.7722515 C954.576989,54.9675137 954.260407,54.9675137 954.065145,54.7722515 L950.146447,50.8535534 C949.951184,50.6582912 949.951184,50.3417088 950.146447,50.1464466 C950.240215,50.0526784 950.367392,50 950.5,50 L958.337396,50 C958.613539,50 958.837396,50.2238576 958.837396,50.5 C958.837396,50.6326082 958.784718,50.7597852 958.69095,50.8535534 Z"
                        id="Combined-Shape-Copy"></path>
                </g>
            </g>
        </svg>
    </label>
    <div v-if="dropdown == true" class="searchies">
        <div class="items" v-for="items in filteredList()" :key="items">
            <p @click="unfocus(items)" >{{ items }}</p>
        </div>
        <div class="item error" v-if="input && !filteredList().length">
            <p>No results found!</p>
        </div>
    </div>

    <div v-if="dropdown == false">
    </div>
</template>

<style>

.item {
    width: 350px;
    margin: 0 auto 10px auto;
    padding: 10px 20px;
    color: white;
    border-radius: 5px;
    box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 3px 0px,
        rgba(0, 0, 0, 0.06) 0px 1px 2px 0px;
        border: solid 1px black;
}

.items {

    cursor: pointer;
    text-align: center;
}

.error {
    background-color: tomato;
}

.searchies {
    display: flex;
    flex-direction: column;
    position: absolute;
    left: 45%;
    width: 10%;
    top: 90%;
    z-index: 101;
    border-radius: 2ch;
    border: solid 1px black;
    background-color: rgb(135,206,235, .2);
}
</style>

<script>
export default {
    name: 'searchbar',
    data() {
        return {
            dropdown: false,
            huidigesite: null
        }
    },
    created() {
        console.log(this.dropdown)
    },
    methods: {
        focus() {
            this.dropdown = true
            console.log(this.dropdown)
        },
        unfocus(items) {
            this.dropdown = false
            this.huidigesite = items
            console.log(this.dropdown)
            console.log(this.huidigesite)
        }
    }
}
</script>